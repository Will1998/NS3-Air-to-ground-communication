import matplotlib.pylab as plt
import numpy as np
from matplotlib import cm as cm

'''
Based on the example taken from matplotlib:
    https://matplotlib.org/gallery/images_contours_and_fields/pcolor_demo.html

Author: Gerard Giram√© Rizzo
Last edit: 20/11/2020
'''
# generate 2 2d grids for the x & y bounds
y, x = np.meshgrid(np.linspace(-30, 30, num=14), np.linspace(-50, 50, num=22))

z = [[28.681, 16.6753, 17.1619, 17.562, 17.8614, 18.0465, 18.1092,
     18.0465, 17.8612, 17.5619, 17.1618, 16.6753, 28.681],
     [29.281, 29.6661, 18.3003, 18.7651, 19.1147, 19.3322, 19.4059,
      19.3321, 19.1146, 18.7651, 18.3003, 29.6661, 29.281],
     [29.8901, 30.3302, 19.4804, 20.0231, 20.435, 20.6929, 20.7808,
      20.6929, 20.435, 20.0231, 19.4804, 30.3302, 29.8901],
     [30.5008, 31.0041, 31.4594, 21.3296, 21.8182, 22.1267, 22.2323,
      22.1267, 21.8182, 21.3296, 31.4595, 31.0041, 30.5008],
     [31.1016, 31.6766, 32.2047, 32.66, 33.0141, 33.2398, 33.3175,
      33.2398, 33.0141, 32.66, 32.2047, 31.6767, 31.1016],
     [31.6766, 32.3304, 32.9411, 33.4767, 33.8998, 34.1728, 34.2675,
      34.1729, 33.8998, 33.4768, 32.9411, 32.3304, 31.6767],
     [32.2047, 32.9411, 33.6415, 34.2674, 34.7708, 35.1004, 35.2155,
      35.1004, 34.7708, 34.2675, 33.6415, 32.9411, 32.2047],
     [32.66, 33.4768, 34.2675, 34.988, 35.5785, 35.9714, 36.1098,
      35.9714, 35.5785, 34.988, 34.2675, 33.4767, 32.66],
     [33.0141, 33.8998, 34.7708, 35.5785, 36.2525, 36.7078, 36.8697,
      36.7078, 36.2524, 35.5785, 34.7708, 33.8998, 33.0141],
     [33.2398, 34.1728, 35.1004, 35.9714, 36.7078, 37.2111, 37.3914,
      37.2111, 36.7077, 35.9714, 35.1004, 34.1728, 33.2398],
     [33.3175, 34.2674, 35.2155, 36.1099, 36.8697, 37.3914, 37.5788,
      37.3914, 36.8698, 36.1099, 35.2155, 34.2674, 33.3175],
     [33.2398, 34.1728, 35.1004, 35.9714, 36.7078, 37.2111, 37.3914,
      37.2111, 36.7077, 35.9713, 35.1004, 34.1728, 33.2398],
     [33.0141, 33.8998, 34.7708, 35.5785, 36.2525, 36.7078, 36.8697,
      36.7078, 36.2525, 35.5785, 34.7708, 33.8998, 33.0141],
     [32.66, 33.4768, 34.2675, 34.988, 35.5785, 35.9714, 36.1099,
      35.9714, 35.5785, 34.988, 34.2674, 33.4767, 32.66],
     [32.2047, 32.9411, 33.6415, 34.2675, 34.7707, 35.1004, 35.2155,
      35.1004, 34.7708, 34.2674, 33.6415, 32.9411, 32.2047],
     [31.6766, 32.3304, 32.9411, 33.4768, 33.8998, 34.1729, 34.2674,
      34.1729, 33.8998, 33.4767, 32.9411, 32.3304, 31.6766],
     [31.1016, 31.6766, 32.2047, 32.6601, 33.0141, 33.2398, 33.3175,
      33.2398, 33.0141, 32.66, 32.2047, 31.6766, 31.1016],
     [30.5008, 31.0041, 31.4595, 21.3296, 21.8183, 22.1267, 22.2323,
      22.1267, 21.8183, 21.3296, 31.4594, 31.0041, 30.5008],
     [29.8901, 30.3302, 19.4805, 20.0231, 20.435, 20.6929, 20.7808,
      20.6929, 20.435, 20.0231, 19.4803, 30.3302, 29.8901],
     [29.2809, 29.6661, 18.3, 18.7651, 19.1146, 19.3321, 19.406,
      19.3321, 19.1146, 18.7649, 18.3003, 29.6661, 29.2809],
     [28.681, 16.6752, 17.1618, 17.562, 17.8614, 18.0464, 18.1089,
      18.0463, 17.8614, 17.5622, 17.1619, 16.6753, 28.681]]

z = np.asarray(z, dtype=np.float32)
z_min, z_max = np.min(z), np.max(z)
print(np.shape(z), z_min, z_max)

# Smoother version of the 2d-heatmap
im = plt.imshow(z.T, cmap=cm.jet, extent=(-50, 50, -30, 30), interpolation='bilinear')

cbar = plt.colorbar(im)
cbar.set_label('SNR [dB]', size=10)
plt.title('2D - Heatmap; Z = 25 m')

plt.show()