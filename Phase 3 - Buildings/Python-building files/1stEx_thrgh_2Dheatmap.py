import matplotlib.pylab as plt
import numpy as np

'''
Based on the example taken from matplotlib:
    https://matplotlib.org/gallery/images_contours_and_fields/pcolor_demo.html

Author: Gerard Giram√© Rizzo
Last edit: 20/11/2020
'''
# generate 2 2d grids for the x & y bounds
y, x = np.meshgrid(np.linspace(-30, 30, num=14), np.linspace(-50, 50, num=22))

z = [[58.5408, 37.1755, 37.6242, 31.8855, 39.8279, 39.7501, 42.0479,
      40.8621, 35.2354, 30.7245, 37.1514, 37.1607, 61.7554],
     [63.7057, 62.0595, 43.6957, 47.3224, 48.1809, 50.0098, 44.67,
      47.1863, 44.5954, 47.1692, 43.6063, 62.8114, 63.6528],
     [62.243, 63.2267, 46.1506, 51.9188, 54.7944, 56.3558, 56.5191,
      55.8099, 54.6046, 51.9204, 44.4313, 62.8347, 63.3316],
     [63.6388, 63.4117, 62.4739, 55.2267, 57.1762, 60.4724, 61.4778,
      60.4973, 57.7897, 54.7353, 63.4996, 62.1652, 63.7142],
     [63.1738, 62.9732, 63.7103, 62.8682, 62.8635, 63.1878, 63.6349,
      63.7267, 63.1061, 63.4413, 62.8122, 63.7002, 63.1481],
     [62.2593, 62.9693, 63.0361, 62.2523, 63.32, 60.8721, 63.2072,
      63.1987, 63.0206, 63.5665, 62.1847, 62.7648, 63.6271],
     [62.2632, 62.2966, 62.7655, 60.3386, 63.4607, 63.3153, 63.7546,
      63.0019, 62.2158, 63.7173, 62.9638, 63.4389, 63.7235],
     [63.1924, 63.4319, 63.6396, 63.7313, 62.7166, 63.7648, 62.5758,
      62.1722, 63.0113, 63.6924, 63.3542, 63.3083, 63.6784],
     [62.1505, 63.7282, 63.6178, 63.7189, 62.6994, 63.6123, 63.0478,
      63.7033, 61.6831, 63.75, 63.2904, 60.8573, 63.0416],
     [63.6598, 62.0999, 63.3324, 63.3099, 63.715, 61.0222, 63.4514,
      62.841, 59.166, 63.5462, 63.3534, 61.1746, 59.292],
     [63.4397, 63.2671, 63.3176, 63.2803, 62.0253, 62.0921, 62.5237,
      62.0603, 63.6396, 63.3347, 63.5346, 62.4281, 63.7461],
     [62.11, 63.0214, 63.666, 63.0634, 63.2531, 62.7111, 63.6637,
      62.9467, 59.9234, 61.89, 63.6333, 60.8495, 62.1909],
     [63.1054, 63.075, 62.0758, 63.554, 63.771, 63.4654, 63.1403,
      62.2181, 63.376, 63.215, 63.7422, 63.6854, 62.0268],
     [63.5408, 63.7025, 63.5525, 63.1707, 63.5151, 63.7406, 63.1979,
      63.1994, 63.7204, 63.1574, 63.0128, 62.7686, 62.2243],
     [63.103, 63.6178, 62.0921, 63.7546, 60.9498, 63.355, 63.6574,
      63.2515, 63.5144, 62.2632, 62.9988, 62.2655, 63.7103],
     [63.5991, 62.2889, 62.1162, 63.362, 63.2889, 62.9693, 62.4942,
      63.6512, 60.8698, 61.764, 63.0828, 62.0735, 63.2655],
     [62.547, 63.6948, 60.8379, 63.5276, 63.7523, 63.3565, 63.7305,
      62.9016, 62.6271, 61.2788, 63.2966, 62.624, 63.7508],
     [63.7298, 63.0914, 63.1683, 56.0673, 58.3138, 60.068, 61.7492,
      61.2811, 58.6054, 56.7298, 62.1987, 63.3884, 63.1808],
     [63.2648, 63.6979, 47.953, 52.072, 55.3892, 55.4545, 56.3418,
      56.4141, 54.8628, 52.2555, 42.296, 62.6683, 63.7461],
     [61.8379, 60.2749, 35.5247, 48.093, 46.0767, 48.8947, 48.8232,
      46.9593, 45.1288, 42.3574, 42.9274, 63.7554, 63.1676],
     [63.0587, 37.09, 37.5635, 32.1732, 39.8528, 39.5775, 35.7999,
      35.0402, 38.7571, 36.3567, 37.5254, 37.5884, 63.3363]]

z = np.asarray(z, dtype=np.float32)
z_min, z_max = np.min(z), np.max(z)
print(np.shape(z), z_min, z_max)

# Smoother version of the 2d-heatmap
im = plt.imshow(z.T, cmap='inferno', extent=(-50, 50, -30, 30), interpolation='bilinear')
cbar = plt.colorbar(im)
cbar.set_label('Throughput [Mbps]',size=10)
plt.title('2D - Heatmap; Z = 25 m')

plt.show()
